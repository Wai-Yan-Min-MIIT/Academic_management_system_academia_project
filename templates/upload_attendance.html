{% extends 'faculty_base.html' %}

{% block faculty_content %}
<div id="main" class="transition-all duration-500 p-4 ml-0 mt-36 container">
    <h1 class="text-3xl font-bold mb-8 text-center">Upload Attendance</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="w-1/2 mx-auto flex flex-col cardcolor border shadow-sm rounded-xl">
            <div class="cardcolor3 border-b rounded-t-xl py-3 px-4 md:py-4 md:px-5">
                <p class="mt-1 text-sm text font-bold">NOTE : Please name the <span class="text-blue-700" >SHEET</span> of the excel file as : <span class="text-blue-700">"Attendance_Input"</span> </p>
            </div>
            <div class="p-4 md:p-5">
                <h3 class="mb-2 font-bold">{{ course_id }} - {{ courseName }}</h3>
                {% if start_date and end_date %}
                    <div class="my-4 ">
                        <p class="mt-2 text font-bold">Latest Attendance Record Period: <span class="text-green-700 font-bold">{{ start_date }} - {{ end_date }}</span></p>
                    </div>
                {% endif %}
                <h4 class=" font-bold text">Upload attendance exel file here.</h4>
                <input type="file" name="attendance_file" id="attendance_file" class="mt-1 block">
                <button type="submit" name="attendance_file" class="px-2 py-1 mt-3 inline-flex items-center gap-x-1 text-sm font-semibold rounded-lg border border-transparent custombg disabled:opacity-50 disabled:pointer-events-none ">
                    Submit
                    <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m9 18 6-6-6-6"></path>
                    </svg>
                </button>
            </div>
            {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                        {% if 'success' in message.tags %}
                            <li class="bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded relative my-4 mx-5">
                                <strong class="font-bold">Success!</strong>
                                <span class="block sm:inline">{{ message }}</span>
                            </li>
                        {% elif 'error' in message.tags %}
                            <li class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative my-4 mx-5">
                                <strong class="font-bold">Error!</strong>
                                <span class="block sm:inline">{{ message }}</span>
                            </li>
                        {% elif 'notice' in message.tags %}
                            <li class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-2 rounded relative my-4 mx-5">
                                <strong class="font-bold">Notice:</strong>
                                <span class="block sm:inline">{{ message }}</span>
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    </form>
</div>
{% endblock %}

